@model EXERCICEWEB.Models.Personne
<div>
    <form id="myForm1">
        @using (@Html.BeginForm("Index", "Personne", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
        {
            @Html.HiddenFor(m => m.ID)
            <div class="modal-body">

                <div class="form-group ">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="form-group">
                        <label for="cemail" class="control-label col-lg-2">Nom <span class="required">*</span></label>
                        @Html.EditorFor(model => model.nom, new { htmlAttributes = new { @class = "form-control" }, @placeholder = "Nom" })
                        @Html.ValidationMessageFor(model => model.nom, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        <label for="cemail" class="control-label col-lg-2">Prénom <span class="required">*</span></label>
                        @Html.EditorFor(model => model.prénom, new { htmlAttributes = new { @class = "form-control" }, @placeholder = "Prénom" })
                        @Html.ValidationMessageFor(model => model.prénom, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        <label for="cemail" class="control-label col-lg-2">Date De Naissance <span class="required">*</span></label>
                        @Html.EditorFor(model => model.Date_Naissance, new { htmlAttributes = new { @class = "form-control" }, @placeholder = "Date De Naissance" })
                        @Html.ValidationMessageFor(model => model.Date_Naissance, "", new { @class = "text-danger" })
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <a href="#"  id="btnSubmit1" type="submit" class="btn btn-success btn-block">
                    @if (Model.ID > 0)
                    {<span>Update</span> }
                    else
                    {<span>Save</span>}
                </a>
               
            </div>
            <div style="text-align:center;display:none" id="loaderDiv">
                <img src="~/Content/InternetSlowdown_Day.gif" width="150" />
            </div>
            Html.EndForm();
        }
        </form>

</div>
<script>

    $(document).ready(function () {

        $("#btnSubmit1").click(function () {

            $("#loaderDiv").show();
            alert("ok");
            var myformdata = $("#myForm1").serialize();

            $.ajax({
               
                type: "POST",
                url: "/Personne/Index",
                data: myformdata,
                success: function () {
                    $("#loaderDiv").hide();
                    $("#myModal2").modal("hide");
                    alert("ok");
                    window.location.href = "/Personne/Index";

                }

            })
        })

    })


</script>

